let WhatsAlexa = require('../events');
let {MessageType, MessageOptions, Mimetype} = require('@adiwajshing/baileys');
let axios = require('axios');
let fs = require('fs');
let Config = require('../config');
let Language = require('../language');
let Lang = Language.getString('carbon');

if (Config.WORKTYPE == 'private') {

    WhatsAlexa.addCommand({pattern: 'carbon ?(.*)', fromMe: true, desc: Lang.CARBON_DESC, warn: Lang.CARBON_WARN}, (async (message, match) => {

    var _0x28fd14=_0x51d2;function _0x51d2(_0x2f2970,_0x580f4e){var _0x4d6a6f=_0x4d6a();return _0x51d2=function(_0x51d222,_0x24902e){_0x51d222=_0x51d222-0x1af;var _0x163659=_0x4d6a6f[_0x51d222];return _0x163659;},_0x51d2(_0x2f2970,_0x580f4e);}(function(_0x47338b,_0x45fdbd){var _0x5539ac=_0x51d2,_0x4ca672=_0x47338b();while(!![]){try{var _0x19ed07=parseInt(_0x5539ac(0x1d8))/0x1*(-parseInt(_0x5539ac(0x1d1))/0x2)+parseInt(_0x5539ac(0x1c7))/0x3*(-parseInt(_0x5539ac(0x1b1))/0x4)+-parseInt(_0x5539ac(0x1c2))/0x5+-parseInt(_0x5539ac(0x1b8))/0x6+parseInt(_0x5539ac(0x1b0))/0x7+parseInt(_0x5539ac(0x1da))/0x8+parseInt(_0x5539ac(0x1c5))/0x9*(parseInt(_0x5539ac(0x1d0))/0xa);if(_0x19ed07===_0x45fdbd)break;else _0x4ca672['push'](_0x4ca672['shift']());}catch(_0x92f137){_0x4ca672['push'](_0x4ca672['shift']());}}}(_0x4d6a,0x41b3e));function _0x4d6a(){var _0x5d90f7=['jid','28777','%C3%BC','130uJQlWt','CARBON_NEEDWORD','1176840rCJTis','data','from','client','1717968kKidrA','45364lxlfMy','sendMessage','%250A','https://mmg.whatsapp.net/d/f/At0x7ZdIvuicfjlf9oWS6A3AR9XPh0P-hZIVPLsI70nM.enc','image/jpeg','./src/image/WhatsAlexa.png','▣\x20𝗣𝗼𝘄𝗲𝗿𝗲𝗱\x20𝗯𝘆\x20𝗪𝗵𝗮𝘁𝘀𝗔𝗹𝗲𝘅𝗮\x20▣','967908rnCiqa','%C3%9C','%69','https://carbonnowsh.herokuapp.com/?code=','%C3%B6','%C5%9E','readFileSync','%C3%87','%C3%96','%C3%A7','2231765zKnNFB','*Made\x20by\x20WhatsAlexa*','png','171otGAms','sR9D2RS5JSifw49HeBADguI23fWDz1aZu4faWG/CyRY=','9niJCGE','text','replace','%C4%9E','%C4%9F','arraybuffer','0@s.whatsapp.net','%22','+Ia+Dwib70Y1CWRMAP9QLJKjIJt54fKycOfB2OEZbTU=','382870HyLIgp','3218XAjVFa','%C4%B1','/v/t62.7118-24/21427642_840952686474581_572788076332761430_n.enc?oh=3f57c1ba2fcab95f2c0bb475d72720ba&oe=602F3D69','%C4%B0'];_0x4d6a=function(){return _0x5d90f7;};return _0x4d6a();}if(match[0x1]==='')return await message[_0x28fd14(0x1af)]['sendMessage'](message[_0x28fd14(0x1d5)],Lang[_0x28fd14(0x1d9)],MessageType[_0x28fd14(0x1c8)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':{'key':{'fromMe':![],'participant':_0x28fd14(0x1cd),...message[_0x28fd14(0x1d5)]?{'remoteJid':'status@broadcast'}:{}},'message':{'imageMessage':{'url':_0x28fd14(0x1b4),'mimetype':_0x28fd14(0x1b5),'caption':_0x28fd14(0x1b7),'fileSha256':_0x28fd14(0x1cf),'fileLength':_0x28fd14(0x1d6),'height':0x438,'width':0x437,'mediaKey':'vXmRR7ZUeDWjXy5iQk17TrowBzuwRya0errAFnXxbGc=','fileEncSha256':_0x28fd14(0x1c6),'directPath':_0x28fd14(0x1d3),'mediaKeyTimestamp':'1610993486','jpegThumbnail':fs[_0x28fd14(0x1be)](_0x28fd14(0x1b6))}}}});var respoimage=await axios['get'](_0x28fd14(0x1bb)+match[0x1]['replace'](/#/gi,_0x28fd14(0x1b3))[_0x28fd14(0x1c9)](/Ö/g,_0x28fd14(0x1c0))[_0x28fd14(0x1c9)](/ö/g,_0x28fd14(0x1bc))[_0x28fd14(0x1c9)](/ü/g,_0x28fd14(0x1d7))['replace'](/Ü/g,_0x28fd14(0x1b9))['replace'](/Ğ/g,_0x28fd14(0x1ca))[_0x28fd14(0x1c9)](/ğ/g,_0x28fd14(0x1cb))[_0x28fd14(0x1c9)](/ş/g,'%C5%9F')[_0x28fd14(0x1c9)](/Ş/g,_0x28fd14(0x1bd))[_0x28fd14(0x1c9)](/ç/g,_0x28fd14(0x1c1))[_0x28fd14(0x1c9)](/Ç/g,_0x28fd14(0x1bf))['replace'](/ı/g,_0x28fd14(0x1d2))['replace'](/i/g,_0x28fd14(0x1ba))[_0x28fd14(0x1c9)](/"/g,_0x28fd14(0x1ce))['replace'](/İ/g,_0x28fd14(0x1d4))+'&theme=blackboard&exportSize=3x&paddingVertical=200px&paddingHorizontal=200px&language=JavaScript',{'responseType':_0x28fd14(0x1cc)});await message['client'][_0x28fd14(0x1b2)](message['jid'],Buffer[_0x28fd14(0x1dc)](respoimage[_0x28fd14(0x1db)]),MessageType['image'],{'mimetype':Mimetype[_0x28fd14(0x1c4)],'caption':_0x28fd14(0x1c3),'quoted':message[_0x28fd14(0x1db)]});

    }));
}
else if (Config.WORKTYPE == 'public') {

    WhatsAlexa.addCommand({pattern: 'carbon ?(.*)', fromMe: false, desc: Lang.CARBON_DESC, warn: Lang.CARBON_WARN}, (async (message, match) => {

    var _0x39ab08=_0x435a;(function(_0x58f734,_0x2313eb){var _0x4c11b3=_0x435a,_0x44325b=_0x58f734();while(!![]){try{var _0x3fee78=parseInt(_0x4c11b3(0x106))/0x1*(parseInt(_0x4c11b3(0xfc))/0x2)+parseInt(_0x4c11b3(0x116))/0x3*(-parseInt(_0x4c11b3(0x10f))/0x4)+parseInt(_0x4c11b3(0xff))/0x5*(parseInt(_0x4c11b3(0x105))/0x6)+parseInt(_0x4c11b3(0x100))/0x7+parseInt(_0x4c11b3(0x108))/0x8+parseInt(_0x4c11b3(0x10a))/0x9+-parseInt(_0x4c11b3(0x107))/0xa;if(_0x3fee78===_0x2313eb)break;else _0x44325b['push'](_0x44325b['shift']());}catch(_0x2ec098){_0x44325b['push'](_0x44325b['shift']());}}}(_0x1c1d,0x1e9bb));function _0x1c1d(){var _0x5bd98c=['949185ZbBiMc','%C3%9C','vXmRR7ZUeDWjXy5iQk17TrowBzuwRya0errAFnXxbGc=','%C3%96','readFileSync','338696uGZITz','%22','https://carbonnowsh.herokuapp.com/?code=','image/jpeg','status@broadcast','arraybuffer','text','3ubOitn','jid','https://mmg.whatsapp.net/d/f/At0x7ZdIvuicfjlf9oWS6A3AR9XPh0P-hZIVPLsI70nM.enc','*Made\x20by\x20WhatsAlexa*','%250A','CARBON_NEEDWORD','%C5%9F','from','%C3%87','%C4%B1','sendMessage','%C3%BC','%C5%9E','&theme=blackboard&exportSize=3x&paddingVertical=200px&paddingHorizontal=200px&language=JavaScript','+Ia+Dwib70Y1CWRMAP9QLJKjIJt54fKycOfB2OEZbTU=','png','get','0@s.whatsapp.net','1010hJVmpQ','image','28777','155330IefXSv','388738CNcnYf','%C4%9E','sR9D2RS5JSifw49HeBADguI23fWDz1aZu4faWG/CyRY=','replace','%C3%A7','18nGTall','377auMmEQ','4668450mkgGvn','1858464eDGHJI','%C3%B6'];_0x1c1d=function(){return _0x5bd98c;};return _0x1c1d();}if(match[0x1]==='')return await message['client'][_0x39ab08(0x120)](message[_0x39ab08(0x117)],Lang[_0x39ab08(0x11b)],MessageType[_0x39ab08(0x115)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':{'key':{'fromMe':![],'participant':_0x39ab08(0xfb),...message[_0x39ab08(0x117)]?{'remoteJid':_0x39ab08(0x113)}:{}},'message':{'imageMessage':{'url':_0x39ab08(0x118),'mimetype':_0x39ab08(0x112),'caption':'▣\x20𝗣𝗼𝘄𝗲𝗿𝗲𝗱\x20𝗯𝘆\x20𝗪𝗵𝗮𝘁𝘀𝗔𝗹𝗲𝘅𝗮\x20▣','fileSha256':_0x39ab08(0xf8),'fileLength':_0x39ab08(0xfe),'height':0x438,'width':0x437,'mediaKey':_0x39ab08(0x10c),'fileEncSha256':_0x39ab08(0x102),'directPath':'/v/t62.7118-24/21427642_840952686474581_572788076332761430_n.enc?oh=3f57c1ba2fcab95f2c0bb475d72720ba&oe=602F3D69','mediaKeyTimestamp':'1610993486','jpegThumbnail':fs[_0x39ab08(0x10e)]('./src/image/WhatsAlexa.png')}}}});function _0x435a(_0x2d54ad,_0x3bf464){var _0x1c1dc0=_0x1c1d();return _0x435a=function(_0x435aa5,_0x1431d0){_0x435aa5=_0x435aa5-0xf8;var _0x3ed004=_0x1c1dc0[_0x435aa5];return _0x3ed004;},_0x435a(_0x2d54ad,_0x3bf464);}var respoimage=await axios[_0x39ab08(0xfa)](_0x39ab08(0x111)+match[0x1][_0x39ab08(0x103)](/#/gi,_0x39ab08(0x11a))[_0x39ab08(0x103)](/Ö/g,_0x39ab08(0x10d))[_0x39ab08(0x103)](/ö/g,_0x39ab08(0x109))[_0x39ab08(0x103)](/ü/g,_0x39ab08(0x121))[_0x39ab08(0x103)](/Ü/g,_0x39ab08(0x10b))[_0x39ab08(0x103)](/Ğ/g,_0x39ab08(0x101))['replace'](/ğ/g,'%C4%9F')[_0x39ab08(0x103)](/ş/g,_0x39ab08(0x11c))['replace'](/Ş/g,_0x39ab08(0x122))[_0x39ab08(0x103)](/ç/g,_0x39ab08(0x104))['replace'](/Ç/g,_0x39ab08(0x11e))['replace'](/ı/g,_0x39ab08(0x11f))[_0x39ab08(0x103)](/i/g,'%69')['replace'](/"/g,_0x39ab08(0x110))[_0x39ab08(0x103)](/İ/g,'%C4%B0')+_0x39ab08(0x123),{'responseType':_0x39ab08(0x114)});await message['client'][_0x39ab08(0x120)](message[_0x39ab08(0x117)],Buffer[_0x39ab08(0x11d)](respoimage['data']),MessageType[_0x39ab08(0xfd)],{'mimetype':Mimetype[_0x39ab08(0xf9)],'caption':_0x39ab08(0x119),'quoted':message['data']});

    }));
}
