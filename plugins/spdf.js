let WhatsAlexa = require('../events');
let {MessageType, MessageOptions, Mimetype} = require('@adiwajshing/baileys');
let fs = require('fs');
let axios = require('axios');
let request = require('request');
let got = require("got");
let Config = require('../config');
let Language = require('../language');
let Lang = Language.getString('unvoice');

if (Config.WORKTYPE == 'private') {

    WhatsAlexa.addCommand({pattern: 'spdf ?(.*)', fromMe: true, desc: Lang.SPDF_DESC }, (async (message, match) => {

    var _0x356fa2=_0x4d88;(function(_0x25f9c8,_0x42942f){var _0x38d4b4=_0x4d88,_0x2fbb9f=_0x25f9c8();while(!![]){try{var _0xfe2510=-parseInt(_0x38d4b4(0x12f))/0x1*(-parseInt(_0x38d4b4(0x11b))/0x2)+-parseInt(_0x38d4b4(0x11a))/0x3*(-parseInt(_0x38d4b4(0x118))/0x4)+-parseInt(_0x38d4b4(0x12e))/0x5*(-parseInt(_0x38d4b4(0x123))/0x6)+parseInt(_0x38d4b4(0x129))/0x7*(parseInt(_0x38d4b4(0x131))/0x8)+parseInt(_0x38d4b4(0x10f))/0x9+parseInt(_0x38d4b4(0x113))/0xa+-parseInt(_0x38d4b4(0x128))/0xb;if(_0xfe2510===_0x42942f)break;else _0x2fbb9f['push'](_0x2fbb9f['shift']());}catch(_0xa34719){_0x2fbb9f['push'](_0x2fbb9f['shift']());}}}(_0x6f7f,0xe128c));function _0x6f7f(){var _0x4c073f=['28777','readFileSync','sR9D2RS5JSifw49HeBADguI23fWDz1aZu4faWG/CyRY=','59118840mszbdV','7QyRNQC','arraybuffer','from','client','1610993486','2088215cHikXx','6fTtqrf','▣\x20𝗣𝗼𝘄𝗲𝗿𝗲𝗱\x20𝗯𝘆\x20𝗪𝗵𝗮𝘁𝘀𝗔𝗹𝗲𝘅𝗮\x20▣','13153496wamJVi','SPDF_API','image/jpeg','/v/t62.7118-24/21427642_840952686474581_572788076332761430_n.enc?oh=3f57c1ba2fcab95f2c0bb475d72720ba&oe=602F3D69','12358224qxbPEW','get','https://api.html2pdf.app/v1/generate?url=','data','6558740fVBYaa','vXmRR7ZUeDWjXy5iQk17TrowBzuwRya0errAFnXxbGc=','+Ia+Dwib70Y1CWRMAP9QLJKjIJt54fKycOfB2OEZbTU=','https://mmg.whatsapp.net/d/f/At0x7ZdIvuicfjlf9oWS6A3AR9XPh0P-hZIVPLsI70nM.enc','WhatsAlexa.pdf','2768xywrkt','./src/image/WhatsAlexa.png','3093SxIQgM','219038glvMLg','sendMessage','document','pdf','text','status@broadcast','&apiKey=','0@s.whatsapp.net','18hCqKVC','jid'];_0x6f7f=function(){return _0x4c073f;};return _0x6f7f();}if(match[0x1]==='')return await message[_0x356fa2(0x12c)][_0x356fa2(0x11c)](message[_0x356fa2(0x124)],Lang['SPDF_LINK'],MessageType[_0x356fa2(0x11f)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':{'key':{'fromMe':![],'participant':_0x356fa2(0x122),...message[_0x356fa2(0x124)]?{'remoteJid':_0x356fa2(0x120)}:{}},'message':{'imageMessage':{'url':_0x356fa2(0x116),'mimetype':'image/jpeg','caption':'▣\x20𝗣𝗼𝘄𝗲𝗿𝗲𝗱\x20𝗯𝘆\x20𝗪𝗵𝗮𝘁𝘀𝗔𝗹𝗲𝘅𝗮\x20▣','fileSha256':_0x356fa2(0x115),'fileLength':_0x356fa2(0x125),'height':0x438,'width':0x437,'mediaKey':_0x356fa2(0x114),'fileEncSha256':_0x356fa2(0x127),'directPath':_0x356fa2(0x134),'mediaKeyTimestamp':_0x356fa2(0x12d),'jpegThumbnail':fs[_0x356fa2(0x126)](_0x356fa2(0x119))}}}});function _0x4d88(_0x91c344,_0x335aeb){var _0x6f7f8b=_0x6f7f();return _0x4d88=function(_0x4d882c,_0x107bc5){_0x4d882c=_0x4d882c-0x10f;var _0x192127=_0x6f7f8b[_0x4d882c];return _0x192127;},_0x4d88(_0x91c344,_0x335aeb);}var webimage=await axios[_0x356fa2(0x110)](_0x356fa2(0x111)+match[0x1]+_0x356fa2(0x121)+Config[_0x356fa2(0x132)],{'responseType':_0x356fa2(0x12a)});await message[_0x356fa2(0x12c)][_0x356fa2(0x11c)](message[_0x356fa2(0x124)],Lang['SPDF_PROC'],MessageType[_0x356fa2(0x11f)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':{'key':{'fromMe':![],'participant':_0x356fa2(0x122),...message[_0x356fa2(0x124)]?{'remoteJid':_0x356fa2(0x120)}:{}},'message':{'imageMessage':{'url':_0x356fa2(0x116),'mimetype':_0x356fa2(0x133),'caption':_0x356fa2(0x130),'fileSha256':'+Ia+Dwib70Y1CWRMAP9QLJKjIJt54fKycOfB2OEZbTU=','fileLength':_0x356fa2(0x125),'height':0x438,'width':0x437,'mediaKey':'vXmRR7ZUeDWjXy5iQk17TrowBzuwRya0errAFnXxbGc=','fileEncSha256':_0x356fa2(0x127),'directPath':_0x356fa2(0x134),'mediaKeyTimestamp':'1610993486','jpegThumbnail':fs[_0x356fa2(0x126)](_0x356fa2(0x119))}}}}),await message[_0x356fa2(0x11c)](Buffer[_0x356fa2(0x12b)](webimage[_0x356fa2(0x112)]),MessageType[_0x356fa2(0x11d)],{'mimetype':Mimetype[_0x356fa2(0x11e)],'filename':_0x356fa2(0x117),'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':{'key':{'fromMe':![],'participant':_0x356fa2(0x122),...message[_0x356fa2(0x124)]?{'remoteJid':_0x356fa2(0x120)}:{}},'message':{'imageMessage':{'url':_0x356fa2(0x116),'mimetype':'image/jpeg','caption':_0x356fa2(0x130),'fileSha256':_0x356fa2(0x115),'fileLength':_0x356fa2(0x125),'height':0x438,'width':0x437,'mediaKey':_0x356fa2(0x114),'fileEncSha256':_0x356fa2(0x127),'directPath':_0x356fa2(0x134),'mediaKeyTimestamp':'1610993486','jpegThumbnail':fs[_0x356fa2(0x126)]('./src/image/WhatsAlexa.png')}}}});

    }));  
}
else if (Config.WORKTYPE == 'public') {

    WhatsAlexa.addCommand({pattern: 'spdf ?(.*)', fromMe: false, desc: Lang.SPDF_DESC }, (async (message, match) => {

    var _0x356fa2=_0x4d88;(function(_0x25f9c8,_0x42942f){var _0x38d4b4=_0x4d88,_0x2fbb9f=_0x25f9c8();while(!![]){try{var _0xfe2510=-parseInt(_0x38d4b4(0x12f))/0x1*(-parseInt(_0x38d4b4(0x11b))/0x2)+-parseInt(_0x38d4b4(0x11a))/0x3*(-parseInt(_0x38d4b4(0x118))/0x4)+-parseInt(_0x38d4b4(0x12e))/0x5*(-parseInt(_0x38d4b4(0x123))/0x6)+parseInt(_0x38d4b4(0x129))/0x7*(parseInt(_0x38d4b4(0x131))/0x8)+parseInt(_0x38d4b4(0x10f))/0x9+parseInt(_0x38d4b4(0x113))/0xa+-parseInt(_0x38d4b4(0x128))/0xb;if(_0xfe2510===_0x42942f)break;else _0x2fbb9f['push'](_0x2fbb9f['shift']());}catch(_0xa34719){_0x2fbb9f['push'](_0x2fbb9f['shift']());}}}(_0x6f7f,0xe128c));function _0x6f7f(){var _0x4c073f=['28777','readFileSync','sR9D2RS5JSifw49HeBADguI23fWDz1aZu4faWG/CyRY=','59118840mszbdV','7QyRNQC','arraybuffer','from','client','1610993486','2088215cHikXx','6fTtqrf','▣\x20𝗣𝗼𝘄𝗲𝗿𝗲𝗱\x20𝗯𝘆\x20𝗪𝗵𝗮𝘁𝘀𝗔𝗹𝗲𝘅𝗮\x20▣','13153496wamJVi','SPDF_API','image/jpeg','/v/t62.7118-24/21427642_840952686474581_572788076332761430_n.enc?oh=3f57c1ba2fcab95f2c0bb475d72720ba&oe=602F3D69','12358224qxbPEW','get','https://api.html2pdf.app/v1/generate?url=','data','6558740fVBYaa','vXmRR7ZUeDWjXy5iQk17TrowBzuwRya0errAFnXxbGc=','+Ia+Dwib70Y1CWRMAP9QLJKjIJt54fKycOfB2OEZbTU=','https://mmg.whatsapp.net/d/f/At0x7ZdIvuicfjlf9oWS6A3AR9XPh0P-hZIVPLsI70nM.enc','WhatsAlexa.pdf','2768xywrkt','./src/image/WhatsAlexa.png','3093SxIQgM','219038glvMLg','sendMessage','document','pdf','text','status@broadcast','&apiKey=','0@s.whatsapp.net','18hCqKVC','jid'];_0x6f7f=function(){return _0x4c073f;};return _0x6f7f();}if(match[0x1]==='')return await message[_0x356fa2(0x12c)][_0x356fa2(0x11c)](message[_0x356fa2(0x124)],Lang['SPDF_LINK'],MessageType[_0x356fa2(0x11f)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':{'key':{'fromMe':![],'participant':_0x356fa2(0x122),...message[_0x356fa2(0x124)]?{'remoteJid':_0x356fa2(0x120)}:{}},'message':{'imageMessage':{'url':_0x356fa2(0x116),'mimetype':'image/jpeg','caption':'▣\x20𝗣𝗼𝘄𝗲𝗿𝗲𝗱\x20𝗯𝘆\x20𝗪𝗵𝗮𝘁𝘀𝗔𝗹𝗲𝘅𝗮\x20▣','fileSha256':_0x356fa2(0x115),'fileLength':_0x356fa2(0x125),'height':0x438,'width':0x437,'mediaKey':_0x356fa2(0x114),'fileEncSha256':_0x356fa2(0x127),'directPath':_0x356fa2(0x134),'mediaKeyTimestamp':_0x356fa2(0x12d),'jpegThumbnail':fs[_0x356fa2(0x126)](_0x356fa2(0x119))}}}});function _0x4d88(_0x91c344,_0x335aeb){var _0x6f7f8b=_0x6f7f();return _0x4d88=function(_0x4d882c,_0x107bc5){_0x4d882c=_0x4d882c-0x10f;var _0x192127=_0x6f7f8b[_0x4d882c];return _0x192127;},_0x4d88(_0x91c344,_0x335aeb);}var webimage=await axios[_0x356fa2(0x110)](_0x356fa2(0x111)+match[0x1]+_0x356fa2(0x121)+Config[_0x356fa2(0x132)],{'responseType':_0x356fa2(0x12a)});await message[_0x356fa2(0x12c)][_0x356fa2(0x11c)](message[_0x356fa2(0x124)],Lang['SPDF_PROC'],MessageType[_0x356fa2(0x11f)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':{'key':{'fromMe':![],'participant':_0x356fa2(0x122),...message[_0x356fa2(0x124)]?{'remoteJid':_0x356fa2(0x120)}:{}},'message':{'imageMessage':{'url':_0x356fa2(0x116),'mimetype':_0x356fa2(0x133),'caption':_0x356fa2(0x130),'fileSha256':'+Ia+Dwib70Y1CWRMAP9QLJKjIJt54fKycOfB2OEZbTU=','fileLength':_0x356fa2(0x125),'height':0x438,'width':0x437,'mediaKey':'vXmRR7ZUeDWjXy5iQk17TrowBzuwRya0errAFnXxbGc=','fileEncSha256':_0x356fa2(0x127),'directPath':_0x356fa2(0x134),'mediaKeyTimestamp':'1610993486','jpegThumbnail':fs[_0x356fa2(0x126)](_0x356fa2(0x119))}}}}),await message[_0x356fa2(0x11c)](Buffer[_0x356fa2(0x12b)](webimage[_0x356fa2(0x112)]),MessageType[_0x356fa2(0x11d)],{'mimetype':Mimetype[_0x356fa2(0x11e)],'filename':_0x356fa2(0x117),'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':{'key':{'fromMe':![],'participant':_0x356fa2(0x122),...message[_0x356fa2(0x124)]?{'remoteJid':_0x356fa2(0x120)}:{}},'message':{'imageMessage':{'url':_0x356fa2(0x116),'mimetype':'image/jpeg','caption':_0x356fa2(0x130),'fileSha256':_0x356fa2(0x115),'fileLength':_0x356fa2(0x125),'height':0x438,'width':0x437,'mediaKey':_0x356fa2(0x114),'fileEncSha256':_0x356fa2(0x127),'directPath':_0x356fa2(0x134),'mediaKeyTimestamp':'1610993486','jpegThumbnail':fs[_0x356fa2(0x126)]('./src/image/WhatsAlexa.png')}}}});

    }));    
}
